---
import { Image } from 'astro:assets';
import ctArr from '../../public/ct-arr.svg?raw';
import getQuoteText from '../../public/get-quote.svg?raw';
import ctText from '../../public/ct-txt.svg?raw';

---

<section class="hp-solutions">
    <div class="container">
        <h1>Results.</h1>
        <h2>This is how our Solutions are helping our clients reach their business goals.</h2>
        <div class="sl-filter-row fx fx-wrap fx-ac">
            <a href="#" class="active">All Solutions</a>
            <a href="#">Startup Solution</a>
            <a href="#">Growth Solution</a>
            <a href="#">Expansion Solution</a>
            <a href="#">Franchise Solution</a>
        </div>
        <div class="projects-list fx fx-wrap">
            <div class="pj-featured-item">
                <a href="#">
                    <div class="pj-ft-image">
                        <img src="/laferla-app-cover.webp" alt="Laferla"/>
                    </div>
                    <div class="pj-ft-info-row fwidth fx fx-jb">
                        <div class="pj-ft-info-lcol">
                            <div class="pj-ft-info-lcol-wrap">
                                <h3>Laferla App</h3>
                            </div>
                            <div class="pj-ft-info-txt">
                                <h4>Creating an Insurance instrument with all functions in your pocket</h4>
                            </div>
                        </div>
                        <div class="pj-ft-info-rcol">
                            <p>UX/UI Design, Wireframing, Prototyping</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="pj-featured-item">
                <a href="#">
                    <div class="pj-ft-image">
                        <img src="/laferla-project-cover.webp" alt="Laferla"/>
                    </div>
                    <div class="pj-ft-info-row fwidth">
                        <div class="pj-ft-info-wrap fx fx-jb fx-wrap">
                            <div class="pj-ft-info-lcol">
                                <div class="pj-ft-info-lcol-wrap">
                                    <h3>Laferla Website</h3>
                                </div>
                            </div>
                            <div class="pj-ft-info-rcol">
                                <p>UX/UI Design, Wireframing, Prototyping</p>
                            </div>
                        </div>
                        <div class="pj-ft-info-txt">
                            <h4>Creating an Insurance instrument with all functions in your pocket</h4>
                        </div>
                    </div>
                </a>
            </div>
            <div class="pj-featured-item">
                <a href="#">
                    <div class="pj-ft-image">
                        <img src="/spinbet-project-cover.webp" alt="Spinbet"/>
                    </div>
                    <div class="pj-ft-info-row fwidth">
                        <div class="pj-ft-info-wrap fx fx-jb fx-wrap">
                            <div class="pj-ft-info-lcol">
                                <div class="pj-ft-info-lcol-wrap">
                                    <h3>Spinbet</h3>
                                </div>
                            </div>
                            <div class="pj-ft-info-rcol">
                                <p>Brand Identity, Web Design, 3D </p>
                            </div>
                        </div>
                        <div class="pj-ft-info-txt">
                            <h4>Casino and Sportsbook platforms for an iGaming startup from Germany</h4>
                        </div>
                    </div>
                </a>
            </div>
            <div class="pj-featured-item">
                <a href="#">
                    <div class="pj-ft-image">
                        <img src="/laferla-app-cover.webp" alt="Laferla"/>
                    </div>
                    <div class="pj-ft-info-row fwidth fx fx-jb">
                        <div class="pj-ft-info-lcol">
                            <div class="pj-ft-info-lcol-wrap">
                                <h3>Laferla App</h3>
                            </div>
                            <div class="pj-ft-info-txt">
                                <h4>Creating an Insurance instrument with all functions in your pocket</h4>
                            </div>
                        </div>
                        <div class="pj-ft-info-rcol">
                            <p>UX/UI Design, Wireframing, Prototyping</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="pj-featured-item">
                <a href="#">
                    <div class="pj-ft-image">
                        <img src="/laferla-project-cover.webp" alt="Laferla"/>
                    </div>
                    <div class="pj-ft-info-row fwidth">
                        <div class="pj-ft-info-wrap fx fx-jb fx-wrap">
                            <div class="pj-ft-info-lcol">
                                <div class="pj-ft-info-lcol-wrap">
                                    <h3>Laferla Website</h3>
                                </div>
                            </div>
                            <div class="pj-ft-info-rcol">
                                <p>UX/UI Design, Wireframing, Prototyping</p>
                            </div>
                        </div>
                        <div class="pj-ft-info-txt">
                            <h4>Creating an Insurance instrument with all functions in your pocket</h4>
                        </div>
                    </div>
                </a>
            </div>
            <div class="pj-featured-item">
                <a href="#">
                    <div class="pj-ft-image">
                        <img src="/spinbet-project-cover.webp" alt="Spinbet"/>
                    </div>
                    <div class="pj-ft-info-row fwidth">
                        <div class="pj-ft-info-wrap fx fx-jb fx-wrap">
                            <div class="pj-ft-info-lcol">
                                <div class="pj-ft-info-lcol-wrap">
                                    <h3>Spinbet</h3>
                                </div>
                            </div>
                            <div class="pj-ft-info-rcol">
                                <p>Brand Identity, Web Design, 3D </p>
                            </div>
                        </div>
                        <div class="pj-ft-info-txt">
                            <h4>Casino and Sportsbook platforms for an iGaming startup from Germany</h4>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>
    <div class="ct-animation-bar">
        <div class="ct-rolling-bar fx ps-rel">
            <div class="center-detector"></div>
            <div class="ct-rolling fx fx-ac">
                <div class="ct-txt-ln">
                    Let's Make It Happen
                </div>
                <div class="ct-arr">
                    <svg width="64" height="104" viewBox="0 0 64 104" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_2044_2941)">
                        <path d="M57 23V78H2" stroke="#676B78" stroke-width="5"/>
                        <path d="M6 27L55 76" stroke="#676B78" stroke-width="5"/>
                        </g>
                        <defs>
                        <clipPath id="clip0_2044_2941">
                        <rect width="104" height="64" fill="white" transform="translate(64 2.79753e-06) rotate(90)"/>
                        </clipPath>
                        </defs>
                    </svg>
                </div>
                <div class="ct-txt">
                    Get a Quote <br/> for your Project
                </div>
                <div class="ct-arr">
                    <svg width="64" height="104" viewBox="0 0 64 104" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_2044_2941)">
                        <path d="M57 23V78H2" stroke="#676B78" stroke-width="5"/>
                        <path d="M6 27L55 76" stroke="#676B78" stroke-width="5"/>
                        </g>
                        <defs>
                        <clipPath id="clip0_2044_2941">
                        <rect width="104" height="64" fill="white" transform="translate(64 2.79753e-06) rotate(90)"/>
                        </clipPath>
                        </defs>
                    </svg>
                </div>
                <div class="ct-txt-ln">
                    Let's Make It Happen
                </div>
            </div>
            <div class="ct-rolling fx fx-ac" aria-hidden>
                <div class="ct-txt-ln">
                    Let's Make It Happen
                </div>
                <div class="ct-arr">
                    <svg width="64" height="104" viewBox="0 0 64 104" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_2044_2941)">
                        <path d="M57 23V78H2" stroke="#676B78" stroke-width="5"/>
                        <path d="M6 27L55 76" stroke="#676B78" stroke-width="5"/>
                        </g>
                        <defs>
                        <clipPath id="clip0_2044_2941">
                        <rect width="104" height="64" fill="white" transform="translate(64 2.79753e-06) rotate(90)"/>
                        </clipPath>
                        </defs>
                    </svg>
                </div>
                <div class="ct-txt">
                    Get a Quote <br/> for your Project
                </div>
                <div class="ct-arr">
                    <svg width="64" height="104" viewBox="0 0 64 104" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_2044_2941)">
                        <path d="M57 23V78H2" stroke="#676B78" stroke-width="5"/>
                        <path d="M6 27L55 76" stroke="#676B78" stroke-width="5"/>
                        </g>
                        <defs>
                        <clipPath id="clip0_2044_2941">
                        <rect width="104" height="64" fill="white" transform="translate(64 2.79753e-06) rotate(90)"/>
                        </clipPath>
                        </defs>
                    </svg>
                </div>
                <div class="ct-txt-ln">
                    Let's Make It Happen
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    .hp-solutions h1{
        color: var(--lightGrey);
    }
    .sl-filter-row{
        margin: 2.5rem 0;
        gap: 0.5rem;
    }
    .sl-filter-row a{
        padding: 0.75rem 1.25rem;
        border-radius: 1.375rem;
        border: 1px solid var(--white);
        color: var(--white);
        font-size: 1rem;
        font-weight: 500;
        transition: all .5s linear;
        -webkit-transition: all .5s linear;
        -moz-transition: all .5s linear;
    }
    .sl-filter-row a.active, .sl-filter-row a:hover{
        background: var(--white);
        color: var(--darkBlue);
    }
    .projects-list{
        gap: 1.5rem;
    }
    .pj-ft-image{
        overflow: hidden;
        border-radius: 1.25rem;
    }
    .pj-ft-image img{
        object-fit: cover;
        width: 100%;
        height: 100%;
        border-radius: 1.25rem;
        -webkit-transition: transform 0.5s ease;
        -moz-transition: transform 0.5s ease;
        transition: transform 0.5s ease;
    }
    .pj-ft-image:hover img{
        transform: scale(1.05);
    }
    .pj-ft-info-row{
        padding: 1.5rem;
    }
    .pj-ft-info-lcol{
        width: 50%;
    }
    .pj-ft-info-rcol{
        width: 50%;
    }
    .pj-ft-info-txt{
        margin-top: 1.5rem;
    }
    .pj-ft-info-txt h4{
        color: var(--lightGrey);
    }
    .pj-ft-info-rcol p{
        font-family: 'pp_neue_montrealbook';
        color: var(--lightGrey);
        text-align: right;
        font-size: 1rem;
        font-weight: 400;
        line-height: 1.5rem;
        margin: 0;
        letter-spacing: 0.02rem;
    }
    .pj-featured-item{
        width: calc((100% - 1.5rem) / 2);
        margin-top: 1rem;
        margin-bottom: 1rem;
    }
    .pj-featured-item:nth-child(3n + 1){
        width: 100%;
        margin: 0;
    }
    .pj-featured-item:nth-child(3n + 1) .pj-ft-info-txt{
        width: 100%;
    }
    .ct-animation-bar{
        padding: 12.5rem 0;
        overflow: hidden;
    }
    @-webkit-keyframes scroll {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-100%);
        }
    }
    @-moz-keyframes scroll {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-100%);
        }
    }
    @-ms-keyframes scroll {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-100%);
        }
    }
    @-o-keyframes scroll {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-100%);
        }
    }
    @keyframes scroll {
        0% {
            transform: translateX(0);
        }
        100% {
            transform: translateX(-100%);
        }
    }
    .ct-rolling{
        gap: 2.5rem;
        -moz-animation: scroll 30s linear infinite;
        -webkit-animation: scroll 30s linear infinite;
        -o-animation: scroll 30s linear infinite;
        animation: scroll 30s linear infinite;
        white-space: nowrap;
        flex-shrink: 0;
        padding-right: 1rem;
    }
    .center-detector{
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 12.5rem;
        height: 100%;
        pointer-events: none;
    }
    .ct-txt-ln{
        color: var(--white);
        font-size: 7.25rem;
        font-weight: 500;
        line-height: 8.75rem;
        transition: color 0.4s ease;
    }
    .ct-txt{
        color: var(--white);
        font-size: 2.25rem;
        font-weight: 500;
        line-height: 100%;
        transition: color 0.4s ease;
    }
    .ct-arr svg path {
        stroke: #676B78;
        transition: stroke 0.4s ease;
    }
    .ct-active {
        color: #ffffff !important;
    }
    .ct-active path {
        stroke: #ffffff !important;
    }
</style>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const rollingRows = document.querySelectorAll(".ct-rolling");

  function updateColors() {
    const centerX = window.innerWidth / 2;

    rollingRows.forEach(row => {
      const items = row.children;

      let closest = null;
      let closestDistance = Infinity;

      [...items].forEach(item => {
        // remove active class first
        item.classList.remove("ct-active");

        const rect = item.getBoundingClientRect();
        const itemCenter = rect.left + rect.width / 2;
        const distance = Math.abs(centerX - itemCenter);

        if (distance < closestDistance) {
          closestDistance = distance;
          closest = item;
        }
      });

      // make the center-most item white
      if (closest) closest.classList.add("ct-active");
    });
  }

  // update on scroll + on animation frame
  function loop() {
    updateColors();
    requestAnimationFrame(loop);
  }
  loop();
});
</script>